<mvc:View controllerName="com.myorg.myUI5App.controller.MainView" 
    xmlns:mvc="sap.ui.core.mvc" 
    xmlns:f="sap.ui.layout.form"
    displayBlock="true" xmlns="sap.m">
    <Page id="page" title="{i18n>title}">
        <content>
            <Panel class="sapUiSmallMargin">
                <content>
                    <Table id="usersTable" items="{user>/users/resources}" delete="onDeleteUser">
                        <headerToolbar>
                            <OverflowToolbar>
                                <Text text="User Total {=${user>/users/totalResults}}"/>
                                <ToolbarSpacer/>
                                <Button icon="sap-icon://add" press="onCreateDialog"/>
                                <Button type="Default" icon="sap-icon://delete" press="onTableModeChange"/>
                            </OverflowToolbar>
                        </headerToolbar>
                        <columns>
                            <Column>
                                <Text text="User_ID"/>
                            </Column>
                            <Column>
                                <Text text="User_Name"/>
                            </Column>
                            <Column>
                                <Text text="User_Email"/>
                            </Column>
                            <Column>
                                <Text text="Edit"/>
                            </Column>
                        </columns>
                        <items>
                            <ColumnListItem>
                                <cells>
                                    <Text text="{user>id}"/>
                                    <Text text="{user>name/familyName} {user>name/givenName}"/>
                                    <Text text="{user>emails/0/value}"/>
                                    <Button icon="sap-icon://edit" press="onEditDialog"/>
                                </cells>
                            </ColumnListItem>
                        </items>
                    </Table>
                </content>
            </Panel>
            <Panel class="sapUiSmallMargin">
                <content>
                    <f:SimpleForm title="Current User Info" >
                        <f:content>
                            <Label text="ID"/>
                            <Text text="{user>/currentUser/id}"/>
                            <Label text="userName"/>
                            <Text text="{user>/currentUser/name/familyName} {user>/currentUser/name/givenName}"/>
                            <Label text="emails"/>
                            <Text text="{user>/currentUser/emails/0/value}"/>
                            <Label text="ID"/>
                        </f:content>
                    </f:SimpleForm>
                    <List headerText="Current User Roles" items="{user>/currentUser/groups}">
                        <items>
                            <ObjectListItem title="{user>value}"></ObjectListItem>
                        </items>
                    </List>
                </content>
            </Panel>
        </content>
    </Page>
</mvc:View>
