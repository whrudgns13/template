sap.ui.define(["./UserCommon","sap/ui/core/Fragment","sap/m/MessageBox"],function(e,o,s){"use strict";return e.extend("com.myorg.myUI5App.controller.user.CurrentUser",{onInit:function(){this._setDefault()},_setDefault:function(){const e=this.getView();const o=new sap.ui.model.json.JSONModel;const s=new sap.ui.model.json.JSONModel;e.setModel(o,"user");e.setModel(s,"roles");this._userModel=e.getModel("user");this._rolesModel=e.getModel("roles");this.callSDK("GET","/app/users/currentUser");this.callSDK("GET","/app/group")},onOpenDialog:function(){let e=this._rolesModel.getProperty("/resources");let s=this._userModel.getProperty("/groups");const t=e.filter(e=>{const o=s.findIndex(o=>e.id===o.value);if(o>-1)return false;return true});this._rolesModel.setProperty("/resources",t);const r=this.getView();if(!this.oDialog){this.oDialog=o.load({name:`com.myorg.myUI5App.view.user.RoleDialog`,controller:this})}this.oDialog.then(e=>{r.addDependent(e);e.open()})}})});